"use strict";(self.webpackChunkredux_toolkit_zh=self.webpackChunkredux_toolkit_zh||[]).push([[2212],{8596:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>d});var i=a(4848),s=a(8453);const o={id:"examples",title:"RTK Query Examples",sidebar_label:"Examples",hide_title:!0,description:"RTK Query > Usage > Examples: sandboxes with runnable apps"},r="RTK Query Examples",n={id:"rtk-query/usage/examples",title:"RTK Query Examples",description:"RTK Query > Usage > Examples: sandboxes with runnable apps",source:"@site/docs/rtk-query/usage/examples.mdx",sourceDirName:"rtk-query/usage",slug:"/rtk-query/usage/examples",permalink:"/rtk-query/usage/examples",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rtk-query/usage/examples.mdx",tags:[],version:"current",frontMatter:{id:"examples",title:"RTK Query Examples",sidebar_label:"Examples",hide_title:!0,description:"RTK Query > Usage > Examples: sandboxes with runnable apps"},sidebar:"docs",previous:{title:"Comparison with Other Tools",permalink:"/rtk-query/comparison"},next:{title:"Usage With TypeScript",permalink:"/rtk-query/usage-with-typescript"}},l={},d=[{value:"Examples Overview",id:"examples-overview",level:2},{value:"Kitchen Sink",id:"kitchen-sink",level:2},{value:"React Optimistic Updates",id:"react-optimistic-updates",level:2},{value:"React with GraphQL",id:"react-with-graphql",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Dispatching an action to set the user state",id:"dispatching-an-action-to-set-the-user-state",level:3},{value:"Using <code>extraReducers</code>",id:"using-extrareducers",level:3},{value:"React Class Components",id:"react-class-components",level:2},{value:"Svelte",id:"svelte",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"\xa0"}),"\n",(0,i.jsx)(t.h1,{id:"rtk-query-examples",children:"RTK Query Examples"}),"\n",(0,i.jsx)(t.h2,{id:"examples-overview",children:"Examples Overview"}),"\n",(0,i.jsx)(t.p,{children:"We have a variety of examples that demonstrate various aspects of using RTK Query."}),"\n",(0,i.jsxs)(t.p,{children:["These examples are not meant to be what you base your application on, but exist to show ",(0,i.jsx)(t.em,{children:"very specific"})," behaviors that you may not actually want or need in your application. For most users, the basic examples in the ",(0,i.jsx)(t.a,{href:"./queries",children:"Queries"})," and ",(0,i.jsx)(t.a,{href:"./mutations",children:"Mutations"})," sections will cover the majority of your needs."]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["Please note that when playing with the examples in CodeSandbox that you can experience quirky behavior, especially if you fork them and start editing files. Hot reloading, CSB service workers and ",(0,i.jsx)(t.a,{href:"https://mswjs.io/",children:(0,i.jsx)(t.code,{children:"msw"})})," sometimes have trouble getting on the right page -- when that happens, just refresh in the CSB browser pane."]})}),"\n",(0,i.jsx)(t.h2,{id:"kitchen-sink",children:"Kitchen Sink"}),"\n",(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/kitchen-sink?fontsize=12&hidenavigation=1&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Kitchen Sink Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,i.jsx)(t.h2,{id:"react-optimistic-updates",children:"React Optimistic Updates"}),"\n",(0,i.jsxs)(t.p,{children:["In the example below you'll notice a few things. There are two ",(0,i.jsx)(t.code,{children:"Posts"})," list on the sidebar. The top one will only update ",(0,i.jsx)(t.em,{children:"after"})," a successful mutation and resync with the server. The ",(0,i.jsx)(t.em,{children:"subscribed"})," one will update immediately due to the optimistic update. In the event of an error, you'll see this get rolled back."]}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"The example has some intentionally wonky behavior... when editing the name of a post, there is a decent chance you'll get a random error."})}),"\n",(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/optimistic-update?fontsize=12&hidenavigation=1&module=%2Fsrc%2Fapp%2Fservices%2Fposts.ts&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Optimistic Update Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,i.jsx)(t.h2,{id:"react-with-graphql",children:"React with GraphQL"}),"\n",(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/graphql?fontsize=12&hidenavigation=1&theme=dark&module=%2Fsrc%2Fapi.js&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query GraphQL Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,i.jsx)(t.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsxs)(t.p,{children:["There are several ways to handle authentication with RTK Query. This is a very basic example of taking a JWT from a login mutation, then setting that in our store. We then use ",(0,i.jsx)(t.code,{children:"prepareHeaders"})," to inject the authentication headers into every subsequent request."]}),"\n",(0,i.jsx)(t.h3,{id:"dispatching-an-action-to-set-the-user-state",children:"Dispatching an action to set the user state"}),"\n",(0,i.jsxs)(t.p,{children:["This example dispatches a ",(0,i.jsx)(t.code,{children:"setCredentials"})," action to store the user and token information."]}),"\n",(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/authentication?fontsize=12&hidenavigation=1&module=%2Fsrc%2Ffeatures%2Fauth%2FauthSlice.tsx&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Authentication Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,i.jsxs)(t.h3,{id:"using-extrareducers",children:["Using ",(0,i.jsx)(t.code,{children:"extraReducers"})]}),"\n",(0,i.jsxs)(t.p,{children:["This example uses a matcher from the endpoint and ",(0,i.jsx)(t.code,{children:"extraReducers"})," in the ",(0,i.jsx)(t.code,{children:"authSlice"}),"."]}),"\n",(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/github/reduxjs/redux-toolkit/tree/master/examples/query/react/authentication-with-extrareducers?fontsize=12&hidenavigation=1&module=%2Fsrc%2Ffeatures%2Fauth%2FauthSlice.tsx&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Authentication Example - extraReducers",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}),"\n",(0,i.jsx)(t.h2,{id:"react-class-components",children:"React Class Components"}),"\n",(0,i.jsxs)(t.p,{children:["Check out the ",(0,i.jsx)(t.code,{children:"PostDetail"})," component for an example of Class Component usage."]}),"\n",(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/react-class-component-example-48hyq?fontsize=12&hidenavigation=1&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query React Class Components Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"}),"\n",(0,i.jsx)(t.h2,{id:"svelte",children:"Svelte"}),"\n",(0,i.jsx)("iframe",{src:"https://codesandbox.io/embed/svelte-app-rtk-simplequery-demo-f1ueb?fontsize=12&hidenavigation=1&theme=dark&runonclick=1",style:{width:"100%",height:"800px",border:0,borderRadius:"4px",overflow:"hidden"},title:"RTK Query Svelte Example",allow:"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>n});var i=a(6540);const s={},o=i.createContext(s);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function n(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);